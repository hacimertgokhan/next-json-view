{"version":3,"file":"JSONCanvasVisualizer.js","sources":["../../../../../src/components/JSONCanvasVisualizer.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\n\n// @ts-ignore\nconst JSONCanvasVisualizer = ({ data, width = 800, height = 600, options = {} }) => {\n    const canvasRef = useRef(null);\n\n    const defaultOptions = {\n        padding: 20,\n        fontSize: 14,\n        fontFamily: 'Monaco, monospace',\n        backgroundColor: '#ffffff',\n        textColor: '#333333',\n        bracketColor: '#0066cc',\n        keyColor: '#116329',\n        valueColor: '#0550ae',\n        stringColor: '#0a3069',\n        numberColor: '#0550ae',\n        nullColor: '#6e7781',\n        booleanColor: '#0550ae',\n        indentSize: 20,\n    };\n\n    const mergedOptions = { ...defaultOptions, ...options };\n\n    const drawJSON = (ctx: { font: string; fillStyle: string; fillText: (arg0: string, arg1: any, arg2: number) => void; measureText: (arg0: string) => { (): any; new(): any; width: any; }; }, obj: unknown, x: number, y: number, level = 0) => {\n        const indent = level * mergedOptions.indentSize;\n        ctx.font = `${mergedOptions.fontSize}px ${mergedOptions.fontFamily}`;\n\n        if (Array.isArray(obj)) {\n            ctx.fillStyle = mergedOptions.bracketColor;\n            ctx.fillText('[', x + indent, y);\n            let currentY = y + mergedOptions.fontSize + 5;\n\n            obj.forEach((item, index) => {\n                currentY = drawJSON(ctx, item, x, currentY, level + 1);\n                if (index < obj.length - 1) {\n                    ctx.fillStyle = mergedOptions.textColor;\n                    ctx.fillText(',', x + indent + ctx.measureText(']').width, currentY - mergedOptions.fontSize - 5);\n                }\n            });\n\n            ctx.fillStyle = mergedOptions.bracketColor;\n            ctx.fillText(']', x + indent, currentY);\n            return currentY + mergedOptions.fontSize + 5;\n        }\n\n        if (typeof obj === 'object' && obj !== null) {\n            ctx.fillStyle = mergedOptions.bracketColor;\n            ctx.fillText('{', x + indent, y);\n            let currentY = y + mergedOptions.fontSize + 5;\n\n            Object.entries(obj).forEach(([key, value], index) => {\n                ctx.fillStyle = mergedOptions.keyColor;\n                ctx.fillText(`\"${key}\": `, x + indent + mergedOptions.indentSize, currentY);\n\n                const keyWidth = ctx.measureText(`\"${key}\": `).width;\n                currentY = drawJSON(ctx, value, x + keyWidth, currentY, level + 1);\n\n                if (index < Object.entries(obj).length - 1) {\n                    ctx.fillStyle = mergedOptions.textColor;\n                    ctx.fillText(',', x + indent + mergedOptions.indentSize, currentY - mergedOptions.fontSize - 5);\n                }\n            });\n\n            ctx.fillStyle = mergedOptions.bracketColor;\n            ctx.fillText('}', x + indent, currentY);\n            return currentY + mergedOptions.fontSize + 5;\n        }\n\n        // Primitive değerler için\n        if (typeof obj === 'string') {\n            ctx.fillStyle = mergedOptions.stringColor;\n            ctx.fillText(`\"${obj}\"`, x + indent, y);\n        } else if (typeof obj === 'number') {\n            ctx.fillStyle = mergedOptions.numberColor;\n            ctx.fillText(obj.toString(), x + indent, y);\n        } else if (typeof obj === 'boolean') {\n            ctx.fillStyle = mergedOptions.booleanColor;\n            ctx.fillText(obj.toString(), x + indent, y);\n        } else if (obj === null) {\n            ctx.fillStyle = mergedOptions.nullColor;\n            ctx.fillText('null', x + indent, y);\n        }\n\n        return y + mergedOptions.fontSize + 5;\n    };\n\n    useEffect(() => {\n        const canvas = canvasRef.current;\n        // @ts-ignore\n        const ctx = canvas.getContext('2d');\n\n        // Canvas temizleme\n        ctx.fillStyle = mergedOptions.backgroundColor;\n        ctx.fillRect(0, 0, width, height);\n\n        // JSON çizimi\n        drawJSON(ctx, data, mergedOptions.padding, mergedOptions.padding);\n    }, [data, width, height, mergedOptions]);\n\n    return (\n        <canvas\n            ref={canvasRef}\n    width={width}\n    height={height}\n    style={{ border: '1px solid #ddd' }}\n    />\n);\n};\n\nexport default JSONCanvasVisualizer;"],"names":[],"mappings":"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"}